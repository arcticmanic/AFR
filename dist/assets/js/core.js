(function(t){typeof define==="function"&&define.amd?define("core",t):t()})((function(){"use strict";function t(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t=function(t){return typeof t}}else{t=function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return t(e)}function e(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function i(t,e,i){if(e)n(t.prototype,e);if(i)n(t,i);return t}function r(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}function a(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)o(t,e)}function s(t){s=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return s(t)}function o(t,e){o=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return o(t,e)}function u(t,e){if(t==null)return{};var n={};var i=Object.keys(t);var r,a;for(a=0;a<i.length;a++){r=i[a];if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l(t,e){if(t==null)return{};var n=u(t,e);var i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++){i=a[r];if(e.indexOf(i)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(t,i))continue;n[i]=t[i]}}return n}function c(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function h(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}return c(t)}function f(t,e){while(!Object.prototype.hasOwnProperty.call(t,e)){t=s(t);if(t===null)break}return t}function d(t,e,n){if(typeof Reflect!=="undefined"&&Reflect.get){d=Reflect.get}else{d=function t(e,n,i){var r=f(e,n);if(!r)return;var a=Object.getOwnPropertyDescriptor(r,n);if(a.get){return a.get.call(i)}return a.value}}return d(t,e,n||t)}function p(t,e,n,i){if(typeof Reflect!=="undefined"&&Reflect.set){p=Reflect.set}else{p=function t(e,n,i,a){var s=f(e,n);var o;if(s){o=Object.getOwnPropertyDescriptor(s,n);if(o.set){o.set.call(a,i);return true}else if(!o.writable){return false}}o=Object.getOwnPropertyDescriptor(a,n);if(o){if(!o.writable){return false}o.value=i;Object.defineProperty(a,n,o)}else{r(a,n,i)}return true}}return p(t,e,n,i)}function v(t,e,n,i,r){var a=p(t,e,n,i||t);if(!a&&r){throw new Error("failed to set property")}return n}function m(t,e){return g(t)||k(t,e)||_()}function g(t){if(Array.isArray(t))return t}function k(t,e){if(!(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")){return}var n=[];var i=true;var r=false;var a=undefined;try{for(var s=t[Symbol.iterator](),o;!(i=(o=s.next()).done);i=true){n.push(o.value);if(e&&n.length===e)break}}catch(t){r=true;a=t}finally{try{if(!i&&s["return"]!=null)s["return"]()}finally{if(r)throw a}}return n}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function y(t){return typeof t==="string"||t instanceof String}var b={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function E(t){switch(t){case b.LEFT:return b.FORCE_LEFT;case b.RIGHT:return b.FORCE_RIGHT;default:return t}}function A(t){return t.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function C(e,n){if(n===e)return true;var i=Array.isArray(n),r=Array.isArray(e),a;if(i&&r){if(n.length!=e.length)return false;for(a=0;a<n.length;a++){if(!C(n[a],e[a]))return false}return true}if(i!=r)return false;if(n&&e&&t(n)==="object"&&t(e)==="object"){var s=n instanceof Date,o=e instanceof Date;if(s&&o)return n.getTime()==e.getTime();if(s!=o)return false;var u=n instanceof RegExp,l=e instanceof RegExp;if(u&&l)return n.toString()==e.toString();if(u!=l)return false;var c=Object.keys(n);for(a=0;a<c.length;a++){if(!Object.prototype.hasOwnProperty.call(e,c[a]))return false}for(a=0;a<c.length;a++){if(!C(e[c[a]],n[c[a]]))return false}return true}else if(n&&e&&typeof n==="function"&&typeof e==="function"){return n.toString()===e.toString()}return false}var w=function(){function t(n,i,r,a){e(this,t);this.value=n;this.cursorPos=i;this.oldValue=r;this.oldSelection=a;while(this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos)){--this.oldSelection.start}}i(t,[{key:"startChangePos",get:function t(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function t(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function t(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function t(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function t(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function t(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function t(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function t(){if(!this.removedCount||this.insertedCount)return b.NONE;return this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?b.RIGHT:b.LEFT}}]);return t}();var F=function(){function t(n){e(this,t);Object.assign(this,{inserted:"",rawInserted:"",skip:false,tailShift:0},n)}i(t,[{key:"aggregate",value:function t(e){this.rawInserted+=e.rawInserted;this.skip=this.skip||e.skip;this.inserted+=e.inserted;this.tailShift+=e.tailShift;return this}},{key:"offset",get:function t(){return this.tailShift+this.inserted.length}}]);return t}();var S=function(){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2?arguments[2]:undefined;e(this,t);this.value=n;this.from=i;this.stop=r}i(t,[{key:"toString",value:function t(){return this.value}},{key:"extend",value:function t(e){this.value+=String(e)}},{key:"appendTo",value:function t(e){return e.append(this.toString(),{tail:true}).aggregate(e._appendPlaceholder())}},{key:"shiftBefore",value:function t(e){if(this.from>=e||!this.value.length)return"";var n=this.value[0];this.value=this.value.slice(1);return n}},{key:"state",get:function t(){return{value:this.value,from:this.from,stop:this.stop}},set:function t(e){Object.assign(this,e)}}]);return t}();function D(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new D.InputMask(t,e)}var x=function(){function t(n){e(this,t);this._value="";this._update(Object.assign({},t.DEFAULTS,{},n));this.isInitialized=true}i(t,[{key:"updateOptions",value:function t(e){if(!Object.keys(e).length)return;this.withValueRefresh(this._update.bind(this,e))}},{key:"_update",value:function t(e){Object.assign(this,e)}},{key:"reset",value:function t(){this._value=""}},{key:"resolve",value:function t(e){this.reset();this.append(e,{input:true},"");this.doCommit();return this.value}},{key:"nearestInputPos",value:function t(e,n){return e}},{key:"extractInput",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;return this.value.slice(e,n)}},{key:"extractTail",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;return new S(this.extractInput(e,n),e)}},{key:"appendTail",value:function t(e){if(y(e))e=new S(String(e));return e.appendTo(this)}},{key:"_appendCharRaw",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=this.doPrepare(e,n);if(!e)return new F;this._value+=e;return new F({inserted:e,rawInserted:e})}},{key:"_appendChar",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=arguments.length>2?arguments[2]:undefined;var r=this.state;var a=this._appendCharRaw(e,n);if(a.inserted){var s;var o=this.doValidate(n)!==false;if(o&&i!=null){var u=this.state;if(this.overwrite){s=i.state;i.shiftBefore(this.value.length)}var l=this.appendTail(i);o=l.rawInserted===i.toString();if(o&&l.inserted)this.state=u}if(!o){a=new F;this.state=r;if(i&&s)i.state=s}}return a}},{key:"_appendPlaceholder",value:function t(){return new F}},{key:"append",value:function t(e,n,i){if(!y(e))throw new Error("value should be string");var r=new F;var a=y(i)?new S(String(i)):i;if(n.tail)n._beforeTailState=this.state;for(var s=0;s<e.length;++s){r.aggregate(this._appendChar(e[s],n,a))}if(a!=null){r.tailShift+=this.appendTail(a).tailShift}return r}},{key:"remove",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;this._value=this.value.slice(0,e)+this.value.slice(n);return new F}},{key:"withValueRefresh",value:function t(e){if(this._refreshing||!this.isInitialized)return e();this._refreshing=true;var n=this.rawInputValue;var i=this.value;var r=e();this.rawInputValue=n;if(this.value!==i&&i.indexOf(this.value)===0){this.append(i.slice(this.value.length),{},"")}delete this._refreshing;return r}},{key:"runIsolated",value:function t(e){if(this._isolated||!this.isInitialized)return e(this);this._isolated=true;var n=this.state;var i=e(this);this.state=n;delete this._isolated;return i}},{key:"doPrepare",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.prepare?this.prepare(e,this,n):e}},{key:"doValidate",value:function t(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}},{key:"doCommit",value:function t(){if(this.commit)this.commit(this.value,this)}},{key:"doFormat",value:function t(e){return this.format?this.format(e,this):e}},{key:"doParse",value:function t(e){return this.parse?this.parse(e,this):e}},{key:"splice",value:function t(e,n,i,r){var a=e+n;var s=this.extractTail(a);var o=this.nearestInputPos(e,r);var u=new F({tailShift:o-e}).aggregate(this.remove(o)).aggregate(this.append(i,{input:true},s));return u}},{key:"state",get:function t(){return{_value:this.value}},set:function t(e){this._value=e._value}},{key:"value",get:function t(){return this._value},set:function t(e){this.resolve(e)}},{key:"unmaskedValue",get:function t(){return this.value},set:function t(e){this.reset();this.append(e,{},"");this.doCommit()}},{key:"typedValue",get:function t(){return this.doParse(this.value)},set:function t(e){this.value=this.doFormat(e)}},{key:"rawInputValue",get:function t(){return this.extractInput(0,this.value.length,{raw:true})},set:function t(e){this.reset();this.append(e,{raw:true},"");this.doCommit()}},{key:"isComplete",get:function t(){return true}}]);return t}();x.DEFAULTS={format:function t(e){return e},parse:function t(e){return e}};D.Masked=x;function B(t){if(t==null){throw new Error("mask property should be defined")}if(t instanceof RegExp)return D.MaskedRegExp;if(y(t))return D.MaskedPattern;if(t instanceof Date||t===Date)return D.MaskedDate;if(t instanceof Number||typeof t==="number"||t===Number)return D.MaskedNumber;if(Array.isArray(t)||t===Array)return D.MaskedDynamic;if(D.Masked&&t.prototype instanceof D.Masked)return t;if(t instanceof Function)return D.MaskedFunction;if(t instanceof D.Masked)return t.constructor;console.warn("Mask not found for mask",t);return D.Masked}function P(t){if(D.Masked&&t instanceof D.Masked)return t;t=Object.assign({},t);var e=t.mask;if(D.Masked&&e instanceof D.Masked)return e;var n=B(e);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(t)}D.createMask=P;var L={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};var M=function(){function t(n){e(this,t);var i=n.mask,r=l(n,["mask"]);this.masked=P({mask:i});Object.assign(this,r)}i(t,[{key:"reset",value:function t(){this._isFilled=false;this.masked.reset()}},{key:"remove",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;if(e===0&&n>=1){this._isFilled=false;return this.masked.remove(e,n)}return new F}},{key:"_appendChar",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this._isFilled)return new F;var i=this.masked.state;var r=this.masked._appendChar(e,n);if(r.inserted&&this.doValidate(n)===false){r.inserted=r.rawInserted="";this.masked.state=i}if(!r.inserted&&!this.isOptional&&!this.lazy&&!n.input){r.inserted=this.placeholderChar}r.skip=!r.inserted&&!this.isOptional;this._isFilled=Boolean(r.inserted);return r}},{key:"append",value:function t(){var e;return(e=this.masked).append.apply(e,arguments)}},{key:"_appendPlaceholder",value:function t(){var e=new F;if(this._isFilled||this.isOptional)return e;this._isFilled=true;e.inserted=this.placeholderChar;return e}},{key:"extractTail",value:function t(){var e;return(e=this.masked).extractTail.apply(e,arguments)}},{key:"appendTail",value:function t(){var e;return(e=this.masked).appendTail.apply(e,arguments)}},{key:"extractInput",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var i=arguments.length>2?arguments[2]:undefined;return this.masked.extractInput(e,n,i)}},{key:"nearestInputPos",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.NONE;var i=0;var r=this.value.length;var a=Math.min(Math.max(e,i),r);switch(n){case b.LEFT:case b.FORCE_LEFT:return this.isComplete?a:i;case b.RIGHT:case b.FORCE_RIGHT:return this.isComplete?a:r;case b.NONE:default:return a}}},{key:"doValidate",value:function t(){var e,n;return(e=this.masked).doValidate.apply(e,arguments)&&(!this.parent||(n=this.parent).doValidate.apply(n,arguments))}},{key:"doCommit",value:function t(){this.masked.doCommit()}},{key:"value",get:function t(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function t(){return this.masked.unmaskedValue}},{key:"isComplete",get:function t(){return Boolean(this.masked.value)||this.isOptional}},{key:"state",get:function t(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function t(e){this.masked.state=e.masked;this._isFilled=e._isFilled}}]);return t}();var T=function(){function t(n){e(this,t);Object.assign(this,n);this._value=""}i(t,[{key:"reset",value:function t(){this._isRawInput=false;this._value=""}},{key:"remove",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._value.length;this._value=this._value.slice(0,e)+this._value.slice(n);if(!this._value)this._isRawInput=false;return new F}},{key:"nearestInputPos",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.NONE;var i=0;var r=this._value.length;switch(n){case b.LEFT:case b.FORCE_LEFT:return i;case b.NONE:case b.RIGHT:case b.FORCE_RIGHT:default:return r}}},{key:"extractInput",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._value.length;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return i.raw&&this._isRawInput&&this._value.slice(e,n)||""}},{key:"_appendChar",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=new F;if(this._value)return i;var r=this.char===e[0];var a=r&&(this.isUnmasking||n.input||n.raw)&&!n.tail;if(a)i.rawInserted=this.char;this._value=i.inserted=this.char;this._isRawInput=a&&(n.raw||n.input);return i}},{key:"_appendPlaceholder",value:function t(){var e=new F;if(this._value)return e;this._value=e.inserted=this.char;return e}},{key:"extractTail",value:function t(){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;return new S("")}},{key:"appendTail",value:function t(e){if(y(e))e=new S(String(e));return e.appendTo(this)}},{key:"append",value:function t(e,n,i){var r=this._appendChar(e,n);if(i!=null){r.tailShift+=this.appendTail(i).tailShift}return r}},{key:"doCommit",value:function t(){}},{key:"value",get:function t(){return this._value}},{key:"unmaskedValue",get:function t(){return this.isUnmasking?this.value:""}},{key:"isComplete",get:function t(){return true}},{key:"state",get:function t(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function t(e){Object.assign(this,e)}}]);return t}();var O=function(){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;e(this,t);this.chunks=n;this.from=i}i(t,[{key:"toString",value:function t(){return this.chunks.map(String).join("")}},{key:"extend",value:function e(n){if(!String(n))return;if(y(n))n=new S(String(n));var i=this.chunks[this.chunks.length-1];var r=i&&(i.stop===n.stop||n.stop==null)&&n.from===i.from+i.toString().length;if(n instanceof S){if(r){i.extend(n.toString())}else{this.chunks.push(n)}}else if(n instanceof t){if(n.stop==null){var a;while(n.chunks.length&&n.chunks[0].stop==null){a=n.chunks.shift();a.from+=n.from;this.extend(a)}}if(n.toString()){n.stop=n.blockIndex;this.chunks.push(n)}}}},{key:"appendTo",value:function e(n){if(!(n instanceof D.MaskedPattern)){var i=new S(this.toString());return i.appendTo(n)}var r=new F;for(var a=0;a<this.chunks.length&&!r.skip;++a){var s=this.chunks[a];var o=n._mapPosToBlock(n.value.length);var u=s.stop;var l=void 0;if(u!=null&&(!o||o.index<=u)){if(s instanceof t||n._stops.indexOf(u)>=0){r.aggregate(n._appendPlaceholder(u))}l=s instanceof t&&n._blocks[u]}if(l){var c=l.appendTail(s);c.skip=false;r.aggregate(c);n._value+=c.inserted;var h=s.toString().slice(c.rawInserted.length);if(h)r.aggregate(n.append(h,{tail:true}))}else{r.aggregate(n.append(s.toString(),{tail:true}))}}return r}},{key:"shiftBefore",value:function t(e){if(this.from>=e||!this.chunks.length)return"";var n=e-this.from;var i=0;while(i<this.chunks.length){var r=this.chunks[i];var a=r.shiftBefore(n);if(r.toString()){if(!a)break;++i}else{this.chunks.splice(i,1)}if(a)return a}return""}},{key:"state",get:function t(){return{chunks:this.chunks.map((function(t){return t.state})),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function e(n){var i=n.chunks,r=l(n,["chunks"]);Object.assign(this,r);this.chunks=i.map((function(e){var n="chunks"in e?new t:new S;n.state=e;return n}))}}]);return t}();var I=function(t){a(n,t);function n(){e(this,n);return h(this,s(n).apply(this,arguments))}i(n,[{key:"_update",value:function t(e){if(e.mask)e.validate=function(t){return t.search(e.mask)>=0};d(s(n.prototype),"_update",this).call(this,e)}}]);return n}(x);D.MaskedRegExp=I;var R=function(t){a(n,t);function n(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e(this,n);t.definitions=Object.assign({},L,t.definitions);return h(this,s(n).call(this,Object.assign({},n.DEFAULTS,{},t)))}i(n,[{key:"_update",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};e.definitions=Object.assign({},this.definitions,e.definitions);d(s(n.prototype),"_update",this).call(this,e);this._rebuildMask()}},{key:"_rebuildMask",value:function t(){var e=this;var i=this.definitions;this._blocks=[];this._stops=[];this._maskedBlocks={};var r=this.mask;if(!r||!i)return;var a=false;var s=false;for(var o=0;o<r.length;++o){if(this.blocks){var u=function(){var t=r.slice(o);var n=Object.keys(e.blocks).filter((function(e){return t.indexOf(e)===0}));n.sort((function(t,e){return e.length-t.length}));var i=n[0];if(i){var a=P(Object.assign({parent:e,lazy:e.lazy,placeholderChar:e.placeholderChar,overwrite:e.overwrite},e.blocks[i]));if(a){e._blocks.push(a);if(!e._maskedBlocks[i])e._maskedBlocks[i]=[];e._maskedBlocks[i].push(e._blocks.length-1)}o+=i.length-1;return"continue"}}();if(u==="continue")continue}var l=r[o];var c=l in i;if(l===n.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(l==="{"||l==="}"){a=!a;continue}if(l==="["||l==="]"){s=!s;continue}if(l===n.ESCAPE_CHAR){++o;l=r[o];if(!l)break;c=false}var h=c?new M({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:i[l],isOptional:s}):new T({char:l,isUnmasking:a});this._blocks.push(h)}}},{key:"reset",value:function t(){d(s(n.prototype),"reset",this).call(this);this._blocks.forEach((function(t){return t.reset()}))}},{key:"doCommit",value:function t(){this._blocks.forEach((function(t){return t.doCommit()}));d(s(n.prototype),"doCommit",this).call(this)}},{key:"appendTail",value:function t(e){return d(s(n.prototype),"appendTail",this).call(this,e).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=this.doPrepare(e,n);var i=this._mapPosToBlock(this.value.length);var r=new F;if(!i)return r;for(var a=i.index;;++a){var s=this._blocks[a];if(!s)break;var o=s._appendChar(e,n);var u=o.skip;r.aggregate(o);if(u||o.rawInserted)break}return r}},{key:"extractTail",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var r=new O;if(n===i)return r;this._forEachBlocksInRange(n,i,(function(t,n,i,a){var s=t.extractTail(i,a);s.stop=e._findStopBefore(n);s.from=e._blockStartPos(n);if(s instanceof O)s.blockIndex=n;r.extend(s)}));return r}},{key:"extractInput",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(e===n)return"";var r="";this._forEachBlocksInRange(e,n,(function(t,e,n,a){r+=t.extractInput(n,a,i)}));return r}},{key:"_findStopBefore",value:function t(e){var n;for(var i=0;i<this._stops.length;++i){var r=this._stops[i];if(r<=e)n=r;else break}return n}},{key:"_appendPlaceholder",value:function t(e){var n=this;var i=new F;if(this.lazy&&e==null)return i;var r=this._mapPosToBlock(this.value.length);if(!r)return i;var a=r.index;var s=e!=null?e:this._blocks.length;this._blocks.slice(a,s).forEach((function(t){if(!t.lazy||e!=null){var r=t._blocks!=null?[t._blocks.length]:[];var a=t._appendPlaceholder.apply(t,r);n._value+=a.inserted;i.aggregate(a)}}));return i}},{key:"_mapPosToBlock",value:function t(e){var n="";for(var i=0;i<this._blocks.length;++i){var r=this._blocks[i];var a=n.length;n+=r.value;if(e<=n.length){return{index:i,offset:e-a}}}}},{key:"_blockStartPos",value:function t(e){return this._blocks.slice(0,e).reduce((function(t,e){return t+=e.value.length}),0)}},{key:"_forEachBlocksInRange",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var i=arguments.length>2?arguments[2]:undefined;var r=this._mapPosToBlock(e);if(r){var a=this._mapPosToBlock(n);var s=a&&r.index===a.index;var o=r.offset;var u=a&&s?a.offset:this._blocks[r.index].value.length;i(this._blocks[r.index],r.index,o,u);if(a&&!s){for(var l=r.index+1;l<a.index;++l){i(this._blocks[l],l,0,this._blocks[l].value.length)}i(this._blocks[a.index],a.index,0,a.offset)}}}},{key:"remove",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var r=d(s(n.prototype),"remove",this).call(this,e,i);this._forEachBlocksInRange(e,i,(function(t,e,n,i){r.aggregate(t.remove(n,i))}));return r}},{key:"nearestInputPos",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:b.NONE;var i=this._mapPosToBlock(e)||{index:0,offset:0};var r=i.offset,a=i.index;var s=this._blocks[a];if(!s)return e;var o=r;if(o!==0&&o<s.value.length){o=s.nearestInputPos(r,E(n))}var u=o===s.value.length;var l=o===0;if(!l&&!u)return this._blockStartPos(a)+o;var c=u?a+1:a;if(n===b.NONE){if(c>0){var h=c-1;var f=this._blocks[h];var d=f.nearestInputPos(0,b.NONE);if(!f.value.length||d!==f.value.length){return this._blockStartPos(c)}}var p=c;for(var v=p;v<this._blocks.length;++v){var m=this._blocks[v];var g=m.nearestInputPos(0,b.NONE);if(!m.value.length||g!==m.value.length){return this._blockStartPos(v)+g}}for(var k=c-1;k>=0;--k){var _=this._blocks[k];var y=_.nearestInputPos(0,b.NONE);if(!_.value.length||y!==_.value.length){return this._blockStartPos(k)+_.value.length}}return e}if(n===b.LEFT||n===b.FORCE_LEFT){var A;for(var C=c;C<this._blocks.length;++C){if(this._blocks[C].value){A=C;break}}if(A!=null){var w=this._blocks[A];var F=w.nearestInputPos(0,b.RIGHT);if(F===0&&w.unmaskedValue.length){return this._blockStartPos(A)+F}}var S=-1;var D;for(var x=c-1;x>=0;--x){var B=this._blocks[x];var P=B.nearestInputPos(B.value.length,b.FORCE_LEFT);if(!B.value||P!==0)D=x;if(P!==0){if(P!==B.value.length){return this._blockStartPos(x)+P}else{S=x;break}}}if(n===b.LEFT){for(var L=S+1;L<=Math.min(c,this._blocks.length-1);++L){var M=this._blocks[L];var T=M.nearestInputPos(0,b.NONE);var O=this._blockStartPos(L)+T;if(O>e)break;if(T!==M.value.length)return O}}if(S>=0){return this._blockStartPos(S)+this._blocks[S].value.length}if(n===b.FORCE_LEFT||this.lazy&&!this.extractInput()&&!N(this._blocks[c])){return 0}if(D!=null){return this._blockStartPos(D)}for(var I=c;I<this._blocks.length;++I){var R=this._blocks[I];var V=R.nearestInputPos(0,b.NONE);if(!R.value.length||V!==R.value.length){return this._blockStartPos(I)+V}}return 0}if(n===b.RIGHT||n===b.FORCE_RIGHT){var j;var H;for(var U=c;U<this._blocks.length;++U){var z=this._blocks[U];var q=z.nearestInputPos(0,b.NONE);if(q!==z.value.length){H=this._blockStartPos(U)+q;j=U;break}}if(j!=null&&H!=null){for(var G=j;G<this._blocks.length;++G){var K=this._blocks[G];var Y=K.nearestInputPos(0,b.FORCE_RIGHT);if(Y!==K.value.length){return this._blockStartPos(G)+Y}}return n===b.FORCE_RIGHT?this.value.length:H}for(var Z=Math.min(c,this._blocks.length-1);Z>=0;--Z){var W=this._blocks[Z];var $=W.nearestInputPos(W.value.length,b.LEFT);if($!==0){var X=this._blockStartPos(Z)+$;if(X>=e)return X;break}}}return e}},{key:"maskedBlock",value:function t(e){return this.maskedBlocks(e)[0]}},{key:"maskedBlocks",value:function t(e){var n=this;var i=this._maskedBlocks[e];if(!i)return[];return i.map((function(t){return n._blocks[t]}))}},{key:"state",get:function t(){return Object.assign({},d(s(n.prototype),"state",this),{_blocks:this._blocks.map((function(t){return t.state}))})},set:function t(e){var i=e._blocks,r=l(e,["_blocks"]);this._blocks.forEach((function(t,e){return t.state=i[e]}));v(s(n.prototype),"state",r,this,true)}},{key:"isComplete",get:function t(){return this._blocks.every((function(t){return t.isComplete}))}},{key:"unmaskedValue",get:function t(){return this._blocks.reduce((function(t,e){return t+=e.unmaskedValue}),"")},set:function t(e){v(s(n.prototype),"unmaskedValue",e,this,true)}},{key:"value",get:function t(){return this._blocks.reduce((function(t,e){return t+=e.value}),"")},set:function t(e){v(s(n.prototype),"value",e,this,true)}}]);return n}(x);R.DEFAULTS={lazy:true,placeholderChar:"_"};R.STOP_CHAR="`";R.ESCAPE_CHAR="\\";R.InputDefinition=M;R.FixedDefinition=T;function N(t){if(!t)return false;var e=t.value;return!e||t.nearestInputPos(0,b.NONE)!==e.length}D.MaskedPattern=R;var V=function(t){a(n,t);function n(){e(this,n);return h(this,s(n).apply(this,arguments))}i(n,[{key:"_update",value:function t(e){e=Object.assign({to:this.to||0,from:this.from||0},e);var i=String(e.to).length;if(e.maxLength!=null)i=Math.max(i,e.maxLength);e.maxLength=i;var r=String(e.from).padStart(i,"0");var a=String(e.to).padStart(i,"0");var o=0;while(o<a.length&&a[o]===r[o]){++o}e.mask=a.slice(0,o).replace(/0/g,"\\0")+"0".repeat(i-o);d(s(n.prototype),"_update",this).call(this,e)}},{key:"boundaries",value:function t(e){var n="";var i="";var r=e.match(/^(\D*)(\d*)(\D*)/)||[],a=m(r,3),s=a[1],o=a[2];if(o){n="0".repeat(s.length)+o;i="9".repeat(s.length)+o}n=n.padEnd(this.maxLength,"0");i=i.padEnd(this.maxLength,"9");return[n,i]}},{key:"doPrepare",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=d(s(n.prototype),"doPrepare",this).call(this,e,i).replace(/\D/g,"");if(!this.autofix)return e;var r=String(this.from).padStart(this.maxLength,"0");var a=String(this.to).padStart(this.maxLength,"0");var o=this.value;var u="";for(var l=0;l<e.length;++l){var c=o+u+e[l];var h=this.boundaries(c),f=m(h,2),p=f[0],v=f[1];if(Number(v)<this.from)u+=r[c.length-1];else if(Number(p)>this.to)u+=a[c.length-1];else u+=e[l]}return u}},{key:"doValidate",value:function t(){var e;var i=this.value;var r=i.search(/[^0]/);if(r===-1&&i.length<=this._matchFrom)return true;var a=this.boundaries(i),o=m(a,2),u=o[0],l=o[1];for(var c=arguments.length,h=new Array(c),f=0;f<c;f++){h[f]=arguments[f]}return this.from<=Number(l)&&Number(u)<=this.to&&(e=d(s(n.prototype),"doValidate",this)).call.apply(e,[this].concat(h))}},{key:"_matchFrom",get:function t(){return this.maxLength-String(this.from).length}},{key:"isComplete",get:function t(){return d(s(n.prototype),"isComplete",this)&&Boolean(this.value)}}]);return n}(R);D.MaskedRange=V;var j=function(t){a(n,t);function n(t){e(this,n);return h(this,s(n).call(this,Object.assign({},n.DEFAULTS,{},t)))}i(n,[{key:"_update",value:function t(e){if(e.mask===Date)delete e.mask;if(e.pattern)e.mask=e.pattern;var i=e.blocks;e.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS());if(e.min)e.blocks.Y.from=e.min.getFullYear();if(e.max)e.blocks.Y.to=e.max.getFullYear();if(e.min&&e.max&&e.blocks.Y.from===e.blocks.Y.to){e.blocks.m.from=e.min.getMonth()+1;e.blocks.m.to=e.max.getMonth()+1;if(e.blocks.m.from===e.blocks.m.to){e.blocks.d.from=e.min.getDate();e.blocks.d.to=e.max.getDate()}}Object.assign(e.blocks,i);Object.keys(e.blocks).forEach((function(t){var n=e.blocks[t];if(!("autofix"in n))n.autofix=e.autofix}));d(s(n.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function t(){var e;var i=this.date;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++){a[o]=arguments[o]}return(e=d(s(n.prototype),"doValidate",this)).call.apply(e,[this].concat(a))&&(!this.isComplete||this.isDateExist(this.value)&&i!=null&&(this.min==null||this.min<=i)&&(this.max==null||i<=this.max))}},{key:"isDateExist",value:function t(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}},{key:"date",get:function t(){return this.typedValue},set:function t(e){this.typedValue=e}},{key:"typedValue",get:function t(){return this.isComplete?d(s(n.prototype),"typedValue",this):null},set:function t(e){v(s(n.prototype),"typedValue",e,this,true)}}]);return n}(R);j.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function t(e){var n=String(e.getDate()).padStart(2,"0");var i=String(e.getMonth()+1).padStart(2,"0");var r=e.getFullYear();return[n,i,r].join(".")},parse:function t(e){var n=e.split("."),i=m(n,3),r=i[0],a=i[1],s=i[2];return new Date(s,a-1,r)}};j.GET_DEFAULT_BLOCKS=function(){return{d:{mask:V,from:1,to:31,maxLength:2},m:{mask:V,from:1,to:12,maxLength:2},Y:{mask:V,from:1900,to:9999}}};D.MaskedDate=j;var H=function(){function t(){e(this,t)}i(t,[{key:"select",value:function t(e,n){if(e==null||n==null||e===this.selectionStart&&n===this.selectionEnd)return;try{this._unsafeSelect(e,n)}catch(t){}}},{key:"_unsafeSelect",value:function t(e,n){}},{key:"bindEvents",value:function t(e){}},{key:"unbindEvents",value:function t(){}},{key:"selectionStart",get:function t(){var e;try{e=this._unsafeSelectionStart}catch(t){}return e!=null?e:this.value.length}},{key:"selectionEnd",get:function t(){var e;try{e=this._unsafeSelectionEnd}catch(t){}return e!=null?e:this.value.length}},{key:"isActive",get:function t(){return false}}]);return t}();D.MaskElement=H;var U=function(t){a(n,t);function n(t){var i;e(this,n);i=h(this,s(n).call(this));i.input=t;i._handlers={};return i}i(n,[{key:"_unsafeSelect",value:function t(e,n){this.input.setSelectionRange(e,n)}},{key:"bindEvents",value:function t(e){var i=this;Object.keys(e).forEach((function(t){return i._toggleEventHandler(n.EVENTS_MAP[t],e[t])}))}},{key:"unbindEvents",value:function t(){var e=this;Object.keys(this._handlers).forEach((function(t){return e._toggleEventHandler(t)}))}},{key:"_toggleEventHandler",value:function t(e,n){if(this._handlers[e]){this.input.removeEventListener(e,this._handlers[e]);delete this._handlers[e]}if(n){this.input.addEventListener(e,n);this._handlers[e]=n}}},{key:"rootElement",get:function t(){return this.input.getRootNode?this.input.getRootNode():document}},{key:"isActive",get:function t(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function t(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function t(){return this.input.selectionEnd}},{key:"value",get:function t(){return this.input.value},set:function t(e){this.input.value=e}}]);return n}(H);U.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"};D.HTMLMaskElement=U;var z=function(t){a(n,t);function n(){e(this,n);return h(this,s(n).apply(this,arguments))}i(n,[{key:"_unsafeSelect",value:function t(e,n){if(!this.rootElement.createRange)return;var i=this.rootElement.createRange();i.setStart(this.input.firstChild||this.input,e);i.setEnd(this.input.lastChild||this.input,n);var r=this.rootElement;var a=r.getSelection&&r.getSelection();if(a){a.removeAllRanges();a.addRange(i)}}},{key:"_unsafeSelectionStart",get:function t(){var e=this.rootElement;var n=e.getSelection&&e.getSelection();return n&&n.anchorOffset}},{key:"_unsafeSelectionEnd",get:function t(){var e=this.rootElement;var n=e.getSelection&&e.getSelection();return n&&this._unsafeSelectionStart+String(n).length}},{key:"value",get:function t(){return this.input.textContent},set:function t(e){this.input.textContent=e}}]);return n}(U);D.HTMLContenteditableMaskElement=z;var q=function(){function t(n,i){e(this,t);this.el=n instanceof H?n:n.isContentEditable&&n.tagName!=="INPUT"&&n.tagName!=="TEXTAREA"?new z(n):new U(n);this.masked=P(i);this._listeners={};this._value="";this._unmaskedValue="";this._saveSelection=this._saveSelection.bind(this);this._onInput=this._onInput.bind(this);this._onChange=this._onChange.bind(this);this._onDrop=this._onDrop.bind(this);this._onFocus=this._onFocus.bind(this);this._onClick=this._onClick.bind(this);this.alignCursor=this.alignCursor.bind(this);this.alignCursorFriendly=this.alignCursorFriendly.bind(this);this._bindEvents();this.updateValue();this._onChange()}i(t,[{key:"maskEquals",value:function t(e){return e==null||e===this.masked.mask||e===Date&&this.masked instanceof j}},{key:"_bindEvents",value:function t(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function t(){if(this.el)this.el.unbindEvents()}},{key:"_fireEvent",value:function t(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++){i[r-1]=arguments[r]}var a=this._listeners[e];if(!a)return;a.forEach((function(t){return t.apply(void 0,i)}))}},{key:"_saveSelection",value:function t(){if(this.value!==this.el.value){console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly.")}this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function t(){this.masked.value=this.el.value;this._value=this.masked.value}},{key:"updateControl",value:function t(){var e=this.masked.unmaskedValue;var n=this.masked.value;var i=this.unmaskedValue!==e||this.value!==n;this._unmaskedValue=e;this._value=n;if(this.el.value!==n)this.el.value=n;if(i)this._fireChangeEvents()}},{key:"updateOptions",value:function t(e){var n=e.mask,i=l(e,["mask"]);var r=!this.maskEquals(n);var a=!C(this.masked,i);if(r)this.mask=n;if(a)this.masked.updateOptions(i);if(r||a)this.updateControl()}},{key:"updateCursor",value:function t(e){if(e==null)return;this.cursorPos=e;this._delayUpdateCursor(e)}},{key:"_delayUpdateCursor",value:function t(e){var n=this;this._abortUpdateCursor();this._changingCursorPos=e;this._cursorChanging=setTimeout((function(){if(!n.el)return;n.cursorPos=n._changingCursorPos;n._abortUpdateCursor()}),10)}},{key:"_fireChangeEvents",value:function t(){this._fireEvent("accept",this._inputEvent);if(this.masked.isComplete)this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function t(){if(this._cursorChanging){clearTimeout(this._cursorChanging);delete this._cursorChanging}}},{key:"alignCursor",value:function t(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,b.LEFT)}},{key:"alignCursorFriendly",value:function t(){if(this.selectionStart!==this.cursorPos)return;this.alignCursor()}},{key:"on",value:function t(e,n){if(!this._listeners[e])this._listeners[e]=[];this._listeners[e].push(n);return this}},{key:"off",value:function t(e,n){if(!this._listeners[e])return this;if(!n){delete this._listeners[e];return this}var i=this._listeners[e].indexOf(n);if(i>=0)this._listeners[e].splice(i,1);return this}},{key:"_onInput",value:function t(e){this._inputEvent=e;this._abortUpdateCursor();if(!this._selection)return this.updateValue();var n=new w(this.el.value,this.cursorPos,this.value,this._selection);var i=this.masked.rawInputValue;var r=this.masked.splice(n.startChangePos,n.removed.length,n.inserted,n.removeDirection).offset;var a=i===this.masked.rawInputValue?n.removeDirection:b.NONE;var s=this.masked.nearestInputPos(n.startChangePos+r,a);this.updateControl();this.updateCursor(s);delete this._inputEvent}},{key:"_onChange",value:function t(){if(this.value!==this.el.value){this.updateValue()}this.masked.doCommit();this.updateControl();this._saveSelection()}},{key:"_onDrop",value:function t(e){e.preventDefault();e.stopPropagation()}},{key:"_onFocus",value:function t(e){this.alignCursorFriendly()}},{key:"_onClick",value:function t(e){this.alignCursorFriendly()}},{key:"destroy",value:function t(){this._unbindEvents();this._listeners.length=0;delete this.el}},{key:"mask",get:function t(){return this.masked.mask},set:function t(e){if(this.maskEquals(e))return;if(!(e instanceof D.Masked)&&this.masked.constructor===B(e)){this.masked.updateOptions({mask:e});return}var n=P({mask:e});n.unmaskedValue=this.masked.unmaskedValue;this.masked=n}},{key:"value",get:function t(){return this._value},set:function t(e){this.masked.value=e;this.updateControl();this.alignCursor()}},{key:"unmaskedValue",get:function t(){return this._unmaskedValue},set:function t(e){this.masked.unmaskedValue=e;this.updateControl();this.alignCursor()}},{key:"typedValue",get:function t(){return this.masked.typedValue},set:function t(e){this.masked.typedValue=e;this.updateControl();this.alignCursor()}},{key:"selectionStart",get:function t(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function t(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function t(e){if(!this.el||!this.el.isActive)return;this.el.select(e,e);this._saveSelection()}}]);return t}();D.InputMask=q;var G=function(t){a(n,t);function n(){e(this,n);return h(this,s(n).apply(this,arguments))}i(n,[{key:"_update",value:function t(e){if(e.enum)e.mask="*".repeat(e.enum[0].length);d(s(n.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function t(){var e=this,i;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++){a[o]=arguments[o]}return this.enum.some((function(t){return t.indexOf(e.unmaskedValue)>=0}))&&(i=d(s(n.prototype),"doValidate",this)).call.apply(i,[this].concat(a))}}]);return n}(R);D.MaskedEnum=G;var K=function(t){a(n,t);function n(t){e(this,n);return h(this,s(n).call(this,Object.assign({},n.DEFAULTS,{},t)))}i(n,[{key:"_update",value:function t(e){d(s(n.prototype),"_update",this).call(this,e);this._updateRegExps()}},{key:"_updateRegExps",value:function t(){var e="^"+(this.allowNegative?"[+|\\-]?":"");var n="(0|([1-9]+\\d*))?";var i="\\d*";var r=(this.scale?"("+A(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(e+n+r);this._numberRegExp=new RegExp(e+i+r);this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(A).join("")+"]","g");this._thousandsSeparatorRegExp=new RegExp(A(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function t(e){return e.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function t(e){var n=e.split(this.radix);n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator);return n.join(this.radix)}},{key:"doPrepare",value:function t(e){var i;for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++){a[o-1]=arguments[o]}return(i=d(s(n.prototype),"doPrepare",this)).call.apply(i,[this,this._removeThousandsSeparators(e.replace(this._mapToRadixRegExp,this.radix))].concat(a))}},{key:"_separatorsCount",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var i=0;for(var r=0;r<e;++r){if(this._value.indexOf(this.thousandsSeparator,r)===r){++i;if(n)e+=this.thousandsSeparator.length}}return i}},{key:"_separatorsCountFromSlice",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(e).length,true)}},{key:"extractInput",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var r=arguments.length>2?arguments[2]:undefined;var a=this._adjustRangeWithSeparators(e,i);var o=m(a,2);e=o[0];i=o[1];return this._removeThousandsSeparators(d(s(n.prototype),"extractInput",this).call(this,e,i,r))}},{key:"_appendCharRaw",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.thousandsSeparator)return d(s(n.prototype),"_appendCharRaw",this).call(this,e,i);var r=i.tail&&i._beforeTailState?i._beforeTailState._value:this._value;var a=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);var o=d(s(n.prototype),"_appendCharRaw",this).call(this,e,i);this._value=this._insertThousandsSeparators(this._value);var u=i.tail&&i._beforeTailState?i._beforeTailState._value:this._value;var l=this._separatorsCountFromSlice(u);o.tailShift+=(l-a)*this.thousandsSeparator.length;o.skip=!o.rawInserted&&e===this.thousandsSeparator;return o}},{key:"_findSeparatorAround",value:function t(e){if(this.thousandsSeparator){var n=e-this.thousandsSeparator.length+1;var i=this.value.indexOf(this.thousandsSeparator,n);if(i<=e)return i}return-1}},{key:"_adjustRangeWithSeparators",value:function t(e,n){var i=this._findSeparatorAround(e);if(i>=0)e=i;var r=this._findSeparatorAround(n);if(r>=0)n=r+this.thousandsSeparator.length;return[e,n]}},{key:"remove",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.value.length;var i=this._adjustRangeWithSeparators(e,n);var r=m(i,2);e=r[0];n=r[1];var a=this.value.slice(0,e);var s=this.value.slice(n);var o=this._separatorsCount(a.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(a+s));var u=this._separatorsCountFromSlice(a);return new F({tailShift:(u-o)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function t(e,n){if(!this.thousandsSeparator)return e;switch(n){case b.NONE:case b.LEFT:case b.FORCE_LEFT:{var i=this._findSeparatorAround(e-1);if(i>=0){var r=i+this.thousandsSeparator.length;if(e<r||this.value.length<=r||n===b.FORCE_LEFT){return i}}break}case b.RIGHT:case b.FORCE_RIGHT:{var a=this._findSeparatorAround(e);if(a>=0){return a+this.thousandsSeparator.length}}}return e}},{key:"doValidate",value:function t(e){var i=e.input?this._numberRegExpInput:this._numberRegExp;var r=i.test(this._removeThousandsSeparators(this.value));if(r){var a=this.number;r=r&&!isNaN(a)&&(this.min==null||this.min>=0||this.min<=this.number)&&(this.max==null||this.max<=0||this.number<=this.max)}return r&&d(s(n.prototype),"doValidate",this).call(this,e)}},{key:"doCommit",value:function t(){if(this.value){var e=this.number;var i=e;if(this.min!=null)i=Math.max(i,this.min);if(this.max!=null)i=Math.min(i,this.max);if(i!==e)this.unmaskedValue=String(i);var r=this.value;if(this.normalizeZeros)r=this._normalizeZeros(r);if(this.padFractionalZeros)r=this._padFractionalZeros(r);this._value=r}d(s(n.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function t(e){var n=this._removeThousandsSeparators(e).split(this.radix);n[0]=n[0].replace(/^(\D*)(0*)(\d*)/,(function(t,e,n,i){return e+i}));if(e.length&&!/\d$/.test(n[0]))n[0]=n[0]+"0";if(n.length>1){n[1]=n[1].replace(/0*$/,"");if(!n[1].length)n.length=1}return this._insertThousandsSeparators(n.join(this.radix))}},{key:"_padFractionalZeros",value:function t(e){if(!e)return e;var n=e.split(this.radix);if(n.length<2)n.push("");n[1]=n[1].padEnd(this.scale,"0");return n.join(this.radix)}},{key:"unmaskedValue",get:function t(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function t(e){v(s(n.prototype),"unmaskedValue",e.replace(".",this.radix),this,true)}},{key:"typedValue",get:function t(){return Number(this.unmaskedValue)},set:function t(e){v(s(n.prototype),"unmaskedValue",String(e),this,true)}},{key:"number",get:function t(){return this.typedValue},set:function t(e){this.typedValue=e}},{key:"allowNegative",get:function t(){return this.signed||this.min!=null&&this.min<0||this.max!=null&&this.max<0}}]);return n}(x);K.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:false,normalizeZeros:true,padFractionalZeros:false};D.MaskedNumber=K;var Y=function(t){a(n,t);function n(){e(this,n);return h(this,s(n).apply(this,arguments))}i(n,[{key:"_update",value:function t(e){if(e.mask)e.validate=e.mask;d(s(n.prototype),"_update",this).call(this,e)}}]);return n}(x);D.MaskedFunction=Y;var Z=function(t){a(n,t);function n(t){var i;e(this,n);i=h(this,s(n).call(this,Object.assign({},n.DEFAULTS,{},t)));i.currentMask=null;return i}i(n,[{key:"_update",value:function t(e){d(s(n.prototype),"_update",this).call(this,e);if("mask"in e){this.compiledMasks=Array.isArray(e.mask)?e.mask.map((function(t){return P(t)})):[]}}},{key:"_appendCharRaw",value:function t(){var e=this._applyDispatch.apply(this,arguments);if(this.currentMask){var n;e.aggregate((n=this.currentMask)._appendChar.apply(n,arguments))}return e}},{key:"_applyDispatch",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=n.tail&&n._beforeTailState!=null?n._beforeTailState._value:this.value;var r=this.rawInputValue;var a=n.tail&&n._beforeTailState!=null?n._beforeTailState._rawInputValue:r;var s=r.slice(a.length);var o=this.currentMask;var u=new F;var l=o&&o.state;this.currentMask=this.doDispatch(e,Object.assign({},n));if(this.currentMask){if(this.currentMask!==o){this.currentMask.reset();var c=this.currentMask.append(a,{raw:true});u.tailShift=c.inserted.length-i.length;if(s){u.tailShift+=this.currentMask.append(s,{raw:true,tail:true}).tailShift}}else{this.currentMask.state=l}}return u}},{key:"_appendPlaceholder",value:function t(){var e=this._applyDispatch.apply(this,arguments);if(this.currentMask){e.aggregate(this.currentMask._appendPlaceholder())}return e}},{key:"doDispatch",value:function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.dispatch(e,this,n)}},{key:"doValidate",value:function t(){var e,i;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++){a[o]=arguments[o]}return(e=d(s(n.prototype),"doValidate",this)).call.apply(e,[this].concat(a))&&(!this.currentMask||(i=this.currentMask).doValidate.apply(i,a))}},{key:"reset",value:function t(){if(this.currentMask)this.currentMask.reset();this.compiledMasks.forEach((function(t){return t.reset()}))}},{key:"remove",value:function t(){var e=new F;if(this.currentMask){var n;e.aggregate((n=this.currentMask).remove.apply(n,arguments)).aggregate(this._applyDispatch())}return e}},{key:"extractInput",value:function t(){var e;return this.currentMask?(e=this.currentMask).extractInput.apply(e,arguments):""}},{key:"extractTail",value:function t(){var e,i;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++){a[o]=arguments[o]}return this.currentMask?(e=this.currentMask).extractTail.apply(e,a):(i=d(s(n.prototype),"extractTail",this)).call.apply(i,[this].concat(a))}},{key:"doCommit",value:function t(){if(this.currentMask)this.currentMask.doCommit();d(s(n.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function t(){var e,i;for(var r=arguments.length,a=new Array(r),o=0;o<r;o++){a[o]=arguments[o]}return this.currentMask?(e=this.currentMask).nearestInputPos.apply(e,a):(i=d(s(n.prototype),"nearestInputPos",this)).call.apply(i,[this].concat(a))}},{key:"value",get:function t(){return this.currentMask?this.currentMask.value:""},set:function t(e){v(s(n.prototype),"value",e,this,true)}},{key:"unmaskedValue",get:function t(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function t(e){v(s(n.prototype),"unmaskedValue",e,this,true)}},{key:"typedValue",get:function t(){return this.currentMask?this.currentMask.typedValue:""},set:function t(e){var n=String(e);if(this.currentMask){this.currentMask.typedValue=e;n=this.currentMask.unmaskedValue}this.unmaskedValue=n}},{key:"isComplete",get:function t(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"state",get:function t(){return Object.assign({},d(s(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(t){return t.state})),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function t(e){var i=e.compiledMasks,r=e.currentMaskRef,a=e.currentMask,o=l(e,["compiledMasks","currentMaskRef","currentMask"]);this.compiledMasks.forEach((function(t,e){return t.state=i[e]}));if(r!=null){this.currentMask=r;this.currentMask.state=a}v(s(n.prototype),"state",o,this,true)}},{key:"overwrite",get:function t(){return this.currentMask?this.currentMask.overwrite:d(s(n.prototype),"overwrite",this)},set:function t(e){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}}]);return n}(x);Z.DEFAULTS={dispatch:function t(e,n,i){if(!n.compiledMasks.length)return;var r=n.rawInputValue;var a=n.compiledMasks.map((function(t,n){t.reset();t.append(r,{raw:true});t.append(e,i);var a=t.rawInputValue.length;return{weight:a,index:n}}));a.sort((function(t,e){return e.weight-t.weight}));return n.compiledMasks[a[0].index]}};D.MaskedDynamic=Z;var W={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function $(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:W.MASKED;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:W.MASKED;var i=P(t);return function(t){return i.runIsolated((function(i){i[e]=t;return i[n]}))}}function X(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++){n[i-1]=arguments[i]}return $.apply(void 0,n)(t)}D.PIPE_TYPE=W;D.createPipe=$;D.pipe=X;try{globalThis.IMask=D}catch(t){}const J=typeof window!=="undefined";const Q=J&&!("onscroll"in window)||typeof navigator!=="undefined"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent);const tt=J&&"IntersectionObserver"in window;const et=J&&"classList"in document.createElement("p");const nt=J&&window.devicePixelRatio>1;const it={elements_selector:"img",container:Q||J?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,auto_unobserve:true,cancel_on_exit:false,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:false};const rt=t=>Object.assign({},it,t);const at=function(t,e){var n;let i="LazyLoad::Initialized";let r=new t(e);try{n=new CustomEvent(i,{detail:{instance:r}})}catch(t){n=document.createEvent("CustomEvent");n.initCustomEvent(i,false,false,{instance:r})}window.dispatchEvent(n)};const st=(t,e)=>{if(!e){return}if(!e.length){at(t,e)}else{for(let n=0,i;i=e[n];n+=1){at(t,i)}}};const ot="delayed";const ut="loading";const lt="loaded";const ct="applied";const ht="error";const ft="native";const dt="data-";const pt="ll-status";const vt="ll-timeout";const mt=(t,e)=>t.getAttribute(dt+e);const gt=(t,e,n)=>{var i=dt+e;if(n===null){t.removeAttribute(i);return}t.setAttribute(i,n)};const kt=t=>mt(t,pt);const _t=(t,e)=>gt(t,pt,e);const yt=t=>_t(t,null);const bt=t=>kt(t)===null;const Et=t=>kt(t)===ut;const At=t=>kt(t)===ht;const Ct=t=>kt(t)===ot;const wt=[ut,ct,lt,ht];const Ft=t=>wt.indexOf(kt(t))>-1;const St=(t,e)=>gt(t,vt,e);const Dt=t=>mt(t,vt);const xt=(t,e,n,i)=>{if(!t){return}if(i!==undefined){t(e,n,i);return}if(n!==undefined){t(e,n);return}t(e)};const Bt=(t,e)=>{if(et){t.classList.add(e);return}t.className+=(t.className?" ":"")+e};const Pt=(t,e)=>{if(et){t.classList.remove(e);return}t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")};const Lt=t=>{t.llTempImage=document.createElement("img")};const Mt=t=>{delete t.llTempImage};const Tt=t=>t.llTempImage;const Ot=(t,e,n)=>{if(!n)return;const i=n._observer;if(!i||!e.auto_unobserve)return;i.unobserve(t)};const It=t=>{t.disconnect()};const Rt="src";const Nt="srcset";const Vt="sizes";const jt="poster";const Ht="PICTURE";const Ut=t=>{if(!t)return;t.loadingCount+=1};const zt=t=>{let e=[];for(let n=0,i;i=t.children[n];n+=1){if(i.tagName==="SOURCE"){e.push(i)}}return e};const qt=(t,e,n)=>{if(!n){return}t.setAttribute(e,n)};const Gt=(t,e)=>{t.removeAttribute(e)};const Kt=t=>!!t.llOriginalAttrs;const Yt=t=>{if(Kt(t))return;const e={};e[Rt]=t.getAttribute(Rt);e[Nt]=t.getAttribute(Nt);e[Vt]=t.getAttribute(Vt);t.llOriginalAttrs=e};const Zt=t=>{if(!Kt(t))return;const e=t.llOriginalAttrs;qt(t,Rt,e[Rt]);qt(t,Nt,e[Nt]);qt(t,Vt,e[Vt])};const Wt=(t,e)=>{qt(t,Vt,mt(t,e.data_sizes));qt(t,Nt,mt(t,e.data_srcset));qt(t,Rt,mt(t,e.data_src))};const $t=t=>{Gt(t,Rt);Gt(t,Nt);Gt(t,Vt)};const Xt=(t,e)=>{const n=t.parentNode;if(!n||n.tagName!==Ht)return;let i=zt(n);i.forEach(e)};const Jt=t=>{Xt(t,t=>{Zt(t)});Zt(t)};const Qt=(t,e)=>{Xt(t,t=>{Yt(t);Wt(t,e)});Yt(t);Wt(t,e)};const te=t=>{Xt(t,t=>{$t(t)});$t(t)};const ee=(t,e)=>{qt(t,Rt,mt(t,e.data_src))};const ne=(t,e)=>{let n=zt(t);n.forEach(t=>{qt(t,Rt,mt(t,e.data_src))});qt(t,jt,mt(t,e.data_poster));qt(t,Rt,mt(t,e.data_src));t.load()};const ie={IMG:Qt,IFRAME:ee,VIDEO:ne};const re=(t,e,n)=>{const i=mt(t,e.data_bg);const r=mt(t,e.data_bg_hidpi);const a=nt&&r?r:i;if(!a)return;t.style.backgroundImage=`url("${a}")`;Tt(t).setAttribute(Rt,a);Ut(n);Bt(t,e.class_loading);_t(t,ut);xt(e.callback_loading,t,n);xt(e.callback_reveal,t,n)};const ae=(t,e,n)=>{const i=mt(t,e.data_bg_multi);const r=mt(t,e.data_bg_multi_hidpi);const a=nt&&r?r:i;if(!a)return;t.style.backgroundImage=a;Bt(t,e.class_applied);_t(t,ct);Ot(t,e,n);xt(e.callback_applied,t,n)};const se=(t,e,n)=>{const i=ie[t.tagName];if(!i)return;i(t,e);Ut(n);Bt(t,e.class_loading);_t(t,ut);xt(e.callback_loading,t,n);xt(e.callback_reveal,t,n)};const oe="load";const ue="loadeddata";const le="error";const ce=["IMG","IFRAME","VIDEO"];const he=t=>ce.indexOf(t.tagName)>-1;const fe=t=>{if(!t)return;t.loadingCount-=1};const de=(t,e)=>{if(!e||e.toLoadCount||e.loadingCount)return;xt(t.callback_finish,e)};const pe=(t,e,n)=>{t.addEventListener(e,n);t.llEvLisnrs[e]=n};const ve=(t,e,n)=>{t.removeEventListener(e,n)};const me=t=>!!t.llEvLisnrs;const ge=(t,e,n)=>{if(!me(t))t.llEvLisnrs={};pe(t,oe,e);pe(t,le,n);if(t.tagName!=="VIDEO")return;pe(t,ue,e)};const ke=t=>{if(!me(t))return;const e=t.llEvLisnrs;for(let n in e){const i=e[n];ve(t,n,i)}delete t.llEvLisnrs};const _e=(t,e,n)=>{Mt(t);fe(n);Pt(t,e.class_loading);Ot(t,e,n)};const ye=(t,e,n,i)=>{_e(e,n,i);Bt(e,n.class_loaded);_t(e,lt);xt(n.callback_loaded,e,i);de(n,i)};const be=(t,e,n,i)=>{_e(e,n,i);Bt(e,n.class_error);_t(e,ht);xt(n.callback_error,e,i);de(n,i)};const Ee=(t,e,n)=>{const i=Tt(t)||t;if(me(i))return;const r=r=>{ye(r,t,e,n);ke(i)};const a=r=>{be(r,t,e,n);ke(i)};ge(i,r,a)};const Ae=t=>{if(!t)return;t.toLoadCount-=1};const Ce=t=>{if(!t)return;t.toLoadCount+=1};const we=(t,e,n)=>{Lt(t);Ee(t,e,n);re(t,e,n);ae(t,e,n)};const Fe=(t,e,n)=>{Ee(t,e,n);se(t,e,n)};const Se=(t,e,n)=>{if(he(t)){Fe(t,e,n)}else{we(t,e,n)}Ae(n);de(e,n)};const De=(t,e,n)=>{Ee(t,e,n);se(t,e,n);Ae(n);_t(t,ft);de(e,n)};const xe=t=>{var e=Dt(t);if(!e){return}if(Ct(t)){yt(t)}clearTimeout(e);St(t,null)};const Be=(t,e,n)=>{const i=e.load_delay;let r=Dt(t);if(r){return}r=setTimeout((function(){Se(t,e,n);xe(t)}),i);_t(t,ot);St(t,r)};const Pe=(t,e,n,i)=>{if(t.tagName!=="IMG")return;ke(t);te(t);Jt(t);Pt(t,n.class_loading);fe(i);xt(n.callback_cancel,t,e,i);setTimeout(()=>{i.resetElementStatus(t,i)},0)};const Le=(t,e,n,i)=>{xt(n.callback_enter,t,e,i);if(Ft(t))return;if(n.load_delay){Be(t,n,i);return}Se(t,n,i)};const Me=(t,e,n,i)=>{if(bt(t))return;if(n.cancel_on_exit&&Et(t)){Pe(t,e,n,i)}xt(n.callback_exit,t,e,i);if(n.load_delay&&Ct(t)){xe(t)}};const Te=["IMG","IFRAME"];const Oe="loading";const Ie=t=>t.use_native&&Oe in HTMLImageElement.prototype;const Re=(t,e,n)=>{t.forEach(t=>{if(Te.indexOf(t.tagName)===-1){return}t.setAttribute(Oe,"lazy");De(t,e,n)});n.toLoadCount=0};const Ne=t=>t.isIntersecting||t.intersectionRatio>0;const Ve=t=>({root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"});const je=(t,e,n)=>{t.forEach(t=>Ne(t)?Le(t.target,t,e,n):Me(t.target,t,e,n))};const He=(t,e)=>{e.forEach(e=>{t.observe(e)})};const Ue=(t,e)=>{It(t);He(t,e)};const ze=t=>{const e=t._settings;if(!tt||Ie(t._settings)){return}t._observer=new IntersectionObserver(n=>{je(n,e,t)},Ve(e))};const qe=t=>Array.prototype.slice.call(t);const Ge=t=>t.container.querySelectorAll(t.elements_selector);const Ke=t=>qe(t).filter(bt);const Ye=t=>At(t);const Ze=t=>qe(t).filter(Ye);const We=(t,e)=>Ke(t||Ge(e));const $e=t=>{const e=t._settings;const n=Ze(Ge(e));n.forEach(t=>{Pt(t,e.class_error);yt(t)});t.update()};const Xe=t=>{if(!J){return}window.addEventListener("online",e=>{$e(t)})};const Je=(t,e)=>{if(Ft(t)){Ce(e)}_t(t,null)};const Qe=function(t,e){this._settings=rt(t);this.loadingCount=0;ze(this);Xe(this);this.update(e)};Qe.prototype={update:function(t){const e=this._settings;const n=We(t,e);this.toLoadCount=n.length;if(Q||!tt){this.loadAll(n);return}if(Ie(e)){Re(n,e,this);return}Ue(this._observer,n)},destroy:function(){if(this._observer){this._observer.disconnect()}delete this._observer;delete this._settings;delete this.loadingCount;delete this.toLoadCount},loadAll:function(t){const e=this._settings;const n=We(t,e);n.forEach(t=>{Se(t,e,this)})},resetElementStatus:function(t){Je(t,this)},load:function(t){Se(t,this._settings,this)}};Qe.load=(t,e)=>{const n=rt(e);Se(t,n)};if(J){st(Qe,window.lazyLoadOptions)}const tn=()=>{const t=new Qe({elements_selector:"img[data-src]",use_native:true});const e=new Qe({elements_selector:".text img",use_native:true})};!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n.r(e);var i={hooks:{},extensions:[],wrappers:[],navbar:{add:!0,sticky:!0,title:"Menu",titleLink:"parent"},onClick:{close:null,preventDefault:null,setSelected:!0},slidingSubmenus:!0},r={classNames:{inset:"Inset",nolistview:"NoListview",nopanel:"NoPanel",panel:"Panel",selected:"Selected",vertical:"Vertical"},language:null,openingInterval:25,panelNodetype:["ul","ol","div"],transitionDuration:400};function a(t,e){for(var n in"object"!=s(t)&&(t={}),"object"!=s(e)&&(e={}),e)e.hasOwnProperty(n)&&(void 0===t[n]?t[n]=e[n]:"object"==s(t[n])&&a(t[n],e[n]));return t}function s(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(t,e,n){if("function"==typeof e){var i=e.call(t);if(void 0!==i)return i}return null!==e&&"function"!=typeof e&&void 0!==e||void 0===n?e:n}function u(t,e,n){var i=!1,r=function(n){void 0!==n&&n.target!==t||(i||(t.removeEventListener("transitionend",r),t.removeEventListener("webkitTransitionEnd",r),e.call(t)),i=!0)};t.addEventListener("transitionend",r),t.addEventListener("webkitTransitionEnd",r),setTimeout(r,1.1*n)}function l(){return"mm-"+c++}var c=0;function h(t){return"mm-"==t.slice(0,3)?t.slice(3):t}var f={};function d(t,e){void 0===f[e]&&(f[e]={}),a(f[e],t)}var p={Menu:"منو"},v={Menu:"Menü"},m={Menu:"Меню"};function g(t){var e=t.split("."),n=document.createElement(e.shift());return e.forEach((function(t){n.classList.add(t)})),n}function k(t,e){return Array.prototype.slice.call(t.querySelectorAll(e))}function _(t,e){var n=Array.prototype.slice.call(t.children);return e?n.filter((function(t){return t.matches(e)})):n}function y(t,e){for(var n=[],i=t.parentElement;i;)n.push(i),i=i.parentElement;return e?n.filter((function(t){return t.matches(e)})):n}function b(t,e,n){t.matches("."+e)&&(t.classList.remove(e),t.classList.add(n))}var E={};function A(t,e){for(var n=e.matches?"yes":"no",i=0;i<E[t].length;i++)E[t][i][n]()}d({Menu:"Menu"},"nl"),d(p,"fa"),d(v,"de"),d(m,"ru");var C=function(){function t(e,n,i){return this.opts=a(n,t.options),this.conf=a(i,t.configs),this._api=["bind","initPanel","initListview","openPanel","closePanel","closeAllPanels","setSelected"],this.node={},this.vars={},this.hook={},this.clck=[],this.node.menu="string"==typeof e?document.querySelector(e):e,"function"==typeof this._deprecatedWarnings&&this._deprecatedWarnings(),this._initWrappers(),this._initAddons(),this._initExtensions(),this._initHooks(),this._initAPI(),this._initMenu(),this._initPanels(),this._initOpened(),this._initAnchors(),function(){var t=function(t){var e=window.matchMedia(t);A(t,e),e.onchange=function(n){A(t,e)}};for(var e in E)t(e)}(),this}return t.prototype.openPanel=function(t,e){var n=this;if(this.trigger("openPanel:before",[t]),t&&(t.matches(".mm-panel")||(t=t.closest(".mm-panel")),t)){if("boolean"!=typeof e&&(e=!0),t.parentElement.matches(".mm-listitem_vertical")){y(t,".mm-listitem_vertical").forEach((function(t){t.classList.add("mm-listitem_opened"),_(t,".mm-panel").forEach((function(t){t.classList.remove("mm-hidden")}))}));var i=y(t,".mm-panel").filter((function(t){return!t.parentElement.matches(".mm-listitem_vertical")}));this.trigger("openPanel:start",[t]),i.length&&this.openPanel(i[0]),this.trigger("openPanel:finish",[t])}else{if(t.matches(".mm-panel_opened"))return;var r=_(this.node.pnls,".mm-panel"),a=_(this.node.pnls,".mm-panel_opened")[0];r.filter((function(e){return e!==t})).forEach((function(t){t.classList.remove("mm-panel_opened-parent")}));for(var s=t.mmParent;s;)(s=s.closest(".mm-panel"))&&(s.parentElement.matches(".mm-listitem_vertical")||s.classList.add("mm-panel_opened-parent"),s=s.mmParent);r.forEach((function(t){t.classList.remove("mm-panel_highest")})),r.filter((function(t){return t!==a})).filter((function(e){return e!==t})).forEach((function(t){t.classList.add("mm-hidden")})),t.classList.remove("mm-hidden");var o=function(){a&&a.classList.remove("mm-panel_opened"),t.classList.add("mm-panel_opened"),t.matches(".mm-panel_opened-parent")?(a&&a.classList.add("mm-panel_highest"),t.classList.remove("mm-panel_opened-parent")):(a&&a.classList.add("mm-panel_opened-parent"),t.classList.add("mm-panel_highest")),n.trigger("openPanel:start",[t])},l=function(){a&&(a.classList.remove("mm-panel_highest"),a.classList.add("mm-hidden")),t.classList.remove("mm-panel_highest"),n.trigger("openPanel:finish",[t])};e&&!t.matches(".mm-panel_noanimation")?setTimeout((function(){u(t,(function(){l()}),n.conf.transitionDuration),o()}),this.conf.openingInterval):(o(),l())}this.trigger("openPanel:after",[t])}},t.prototype.closePanel=function(t){this.trigger("closePanel:before",[t]);var e=t.parentElement;e.matches(".mm-listitem_vertical")&&(e.classList.remove("mm-listitem_opened"),t.classList.add("mm-hidden"),this.trigger("closePanel",[t])),this.trigger("closePanel:after",[t])},t.prototype.closeAllPanels=function(t){this.trigger("closeAllPanels:before"),this.node.pnls.querySelectorAll(".mm-listitem").forEach((function(t){t.classList.remove("mm-listitem_selected"),t.classList.remove("mm-listitem_opened")}));var e=_(this.node.pnls,".mm-panel"),n=t||e[0];_(this.node.pnls,".mm-panel").forEach((function(t){t!==n&&(t.classList.remove("mm-panel_opened"),t.classList.remove("mm-panel_opened-parent"),t.classList.remove("mm-panel_highest"),t.classList.add("mm-hidden"))})),this.openPanel(n,!1),this.trigger("closeAllPanels:after")},t.prototype.togglePanel=function(t){var e=t.parentElement;e.matches(".mm-listitem_vertical")&&this[e.matches(".mm-listitem_opened")?"closePanel":"openPanel"](t)},t.prototype.setSelected=function(t){this.trigger("setSelected:before",[t]),k(this.node.menu,".mm-listitem_selected").forEach((function(t){t.classList.remove("mm-listitem_selected")})),t.classList.add("mm-listitem_selected"),this.trigger("setSelected:after",[t])},t.prototype.bind=function(t,e){this.hook[t]=this.hook[t]||[],this.hook[t].push(e)},t.prototype.trigger=function(t,e){if(this.hook[t])for(var n=0,i=this.hook[t].length;n<i;n++)this.hook[t][n].apply(this,e)},t.prototype._initAPI=function(){var t=this,e=this;this.API={},this._api.forEach((function(n){t.API[n]=function(){var t=e[n].apply(e,arguments);return void 0===t?e.API:t}})),this.node.menu.mmApi=this.API},t.prototype._initHooks=function(){for(var t in this.opts.hooks)this.bind(t,this.opts.hooks[t])},t.prototype._initWrappers=function(){this.trigger("initWrappers:before");for(var e=0;e<this.opts.wrappers.length;e++){var n=t.wrappers[this.opts.wrappers[e]];"function"==typeof n&&n.call(this)}this.trigger("initWrappers:after")},t.prototype._initAddons=function(){for(var e in this.trigger("initAddons:before"),t.addons)t.addons[e].call(this);this.trigger("initAddons:after")},t.prototype._initExtensions=function(){var t=this;this.trigger("initExtensions:before"),"array"==s(this.opts.extensions)&&(this.opts.extensions={all:this.opts.extensions}),Object.keys(this.opts.extensions).forEach((function(e){var n=t.opts.extensions[e].map((function(t){return"mm-menu_"+t}));n.length&&function(t,e,n){"number"==typeof t&&(t="(min-width: "+t+"px)"),E[t]=E[t]||[],E[t].push({yes:e,no:n})}(e,(function(){n.forEach((function(e){t.node.menu.classList.add(e)}))}),(function(){n.forEach((function(e){t.node.menu.classList.remove(e)}))}))})),this.trigger("initExtensions:after")},t.prototype._initMenu=function(){var t=this;this.trigger("initMenu:before"),this.node.wrpr=this.node.wrpr||this.node.menu.parentElement,this.node.wrpr.classList.add("mm-wrapper"),this.node.menu.id=this.node.menu.id||l();var e=g("div.mm-panels");_(this.node.menu).forEach((function(n){t.conf.panelNodetype.indexOf(n.nodeName.toLowerCase())>-1&&e.append(n)})),this.node.menu.append(e),this.node.pnls=e,this.node.menu.classList.add("mm-menu"),this.trigger("initMenu:after")},t.prototype._initPanels=function(){var t=this;this.trigger("initPanels:before"),this.clck.push((function(e,n){if(n.inMenu){var i=e.getAttribute("href");if(i&&i.length>1&&"#"==i.slice(0,1))try{var r=k(t.node.menu,i)[0];if(r&&r.matches(".mm-panel"))return e.parentElement.matches(".mm-listitem_vertical")?t.togglePanel(r):t.openPanel(r),!0}catch(t){}}})),_(this.node.pnls).forEach((function(e){t.initPanel(e)})),this.trigger("initPanels:after")},t.prototype.initPanel=function(t){var e=this,n=this.conf.panelNodetype.join(", ");if(t.matches(n)&&(t.matches(".mm-panel")||(t=this._initPanel(t)),t)){var i=[];i.push.apply(i,_(t,"."+this.conf.classNames.panel)),_(t,".mm-listview").forEach((function(t){_(t,".mm-listitem").forEach((function(t){i.push.apply(i,_(t,n))}))})),i.forEach((function(t){e.initPanel(t)}))}},t.prototype._initPanel=function(t){var e=this;if(this.trigger("initPanel:before",[t]),b(t,this.conf.classNames.panel,"mm-panel"),b(t,this.conf.classNames.nopanel,"mm-nopanel"),b(t,this.conf.classNames.inset,"mm-listview_inset"),t.matches(".mm-listview_inset")&&t.classList.add("mm-nopanel"),t.matches(".mm-nopanel"))return null;var n=t.id||l(),i=t.matches("."+this.conf.classNames.vertical)||!this.opts.slidingSubmenus;if(t.classList.remove(this.conf.classNames.vertical),t.matches("ul, ol")){t.removeAttribute("id");var r=g("div");t.before(r),r.append(t),t=r}t.id=n,t.classList.add("mm-panel"),t.classList.add("mm-hidden");var a=[t.parentElement].filter((function(t){return t.matches("li")}))[0];if(i?a&&a.classList.add("mm-listitem_vertical"):this.node.pnls.append(t),a&&(a.mmChild=t,t.mmParent=a,a&&a.matches(".mm-listitem")&&!_(a,".mm-btn").length)){var s=_(a,".mm-listitem__text")[0];if(s){var o=g("a.mm-btn.mm-btn_next.mm-listitem__btn");o.setAttribute("href","#"+t.id),s.matches("span")?(o.classList.add("mm-listitem__text"),o.innerHTML=s.innerHTML,a.insertBefore(o,s.nextElementSibling),s.remove()):a.insertBefore(o,_(a,".mm-panel")[0])}}return this._initNavbar(t),_(t,"ul, ol").forEach((function(t){e.initListview(t)})),this.trigger("initPanel:after",[t]),t},t.prototype._initNavbar=function(t){if(this.trigger("initNavbar:before",[t]),!_(t,".mm-navbar").length){var e=null,n=null;if(t.getAttribute("data-mm-parent")?n=k(this.node.pnls,t.getAttribute("data-mm-parent"))[0]:(e=t.mmParent)&&(n=e.closest(".mm-panel")),!e||!e.matches(".mm-listitem_vertical")){var i=g("div.mm-navbar");if(this.opts.navbar.add?this.opts.navbar.sticky&&i.classList.add("mm-navbar_sticky"):i.classList.add("mm-hidden"),n){var r=g("a.mm-btn.mm-btn_prev.mm-navbar__btn");r.setAttribute("href","#"+n.id),i.append(r)}var a=null;e?a=_(e,".mm-listitem__text")[0]:n&&(a=k(n,'a[href="#'+t.id+'"]')[0]);var s=g("a.mm-navbar__title"),o=g("span");switch(s.append(o),o.innerHTML=t.getAttribute("data-mm-title")||(a?a.textContent:"")||this.i18n(this.opts.navbar.title)||this.i18n("Menu"),this.opts.navbar.titleLink){case"anchor":a&&s.setAttribute("href",a.getAttribute("href"));break;case"parent":n&&s.setAttribute("href","#"+n.id)}i.append(s),t.prepend(i),this.trigger("initNavbar:after",[t])}}},t.prototype.initListview=function(t){var e=this;this.trigger("initListview:before",[t]),b(t,this.conf.classNames.nolistview,"mm-nolistview"),t.matches(".mm-nolistview")||(t.classList.add("mm-listview"),_(t).forEach((function(t){t.classList.add("mm-listitem"),b(t,e.conf.classNames.selected,"mm-listitem_selected"),_(t,"a, span").forEach((function(t){t.matches(".mm-btn")||t.classList.add("mm-listitem__text")}))}))),this.trigger("initListview:after",[t])},t.prototype._initOpened=function(){this.trigger("initOpened:before");var t=this.node.pnls.querySelectorAll(".mm-listitem_selected"),e=null;t.forEach((function(t){e=t,t.classList.remove("mm-listitem_selected")})),e&&e.classList.add("mm-listitem_selected");var n=e?e.closest(".mm-panel"):_(this.node.pnls,".mm-panel")[0];this.openPanel(n,!1),this.trigger("initOpened:after")},t.prototype._initAnchors=function(){var t=this;this.trigger("initAnchors:before"),document.addEventListener("click",(function(e){var n=e.target.closest("a[href]");if(n){for(var i={inMenu:n.closest(".mm-menu")===t.node.menu,inListview:n.matches(".mm-listitem > a"),toExternal:n.matches('[rel="external"]')||n.matches('[target="_blank"]')},r={close:null,setSelected:null,preventDefault:"#"==n.getAttribute("href").slice(0,1)},u=0;u<t.clck.length;u++){var l=t.clck[u].call(t,n,i);if(l){if("boolean"==typeof l)return void e.preventDefault();"object"==s(l)&&(r=a(l,r))}}i.inMenu&&i.inListview&&!i.toExternal&&(o(n,t.opts.onClick.setSelected,r.setSelected)&&t.setSelected(n.parentElement),o(n,t.opts.onClick.preventDefault,r.preventDefault)&&e.preventDefault(),o(n,t.opts.onClick.close,r.close)&&t.opts.offCanvas&&"function"==typeof t.close&&t.close())}}),!0),this.trigger("initAnchors:after")},t.prototype.i18n=function(t){return function(t,e){return"string"==typeof e&&void 0!==f[e]&&f[e][t]||t}(t,this.conf.language)},t.version="8.5.5",t.options=i,t.configs=r,t.addons={},t.wrappers={},t.node={},t.vars={},t}(),w={blockUI:!0,moveBackground:!0};var F={clone:!1,menu:{insertMethod:"prepend",insertSelector:"body"},page:{nodetype:"div",selector:null,noSelector:[]}};function S(t){return t?t.charAt(0).toUpperCase()+t.slice(1):""}C.options.offCanvas=w,C.configs.offCanvas=F;C.prototype.open=function(){var t=this;this.trigger("open:before"),this.vars.opened||(this._openSetup(),setTimeout((function(){t._openStart()}),this.conf.openingInterval),this.trigger("open:after"))},C.prototype._openSetup=function(){var t=this,e=this.opts.offCanvas;this.closeAllOthers(),C.node.page.mmStyle=C.node.page.getAttribute("style")||"",function(t,e,n){var i=e.split(".");(t[e="mmEvent"+S(i[0])+S(i[1])]||[]).forEach((function(t){t(n||{})}))}(window,"resize.page",{force:!0});var n=["mm-wrapper_opened"];e.blockUI&&n.push("mm-wrapper_blocking"),"modal"==e.blockUI&&n.push("mm-wrapper_modal"),e.moveBackground&&n.push("mm-wrapper_background"),n.forEach((function(e){t.node.wrpr.classList.add(e)})),setTimeout((function(){t.vars.opened=!0}),this.conf.openingInterval),this.node.menu.classList.add("mm-menu_opened")},C.prototype._openStart=function(){var t=this;u(C.node.page,(function(){t.trigger("open:finish")}),this.conf.transitionDuration),this.trigger("open:start"),this.node.wrpr.classList.add("mm-wrapper_opening")},C.prototype.close=function(){var t=this;this.trigger("close:before"),this.vars.opened&&(u(C.node.page,(function(){t.node.menu.classList.remove("mm-menu_opened");["mm-wrapper_opened","mm-wrapper_blocking","mm-wrapper_modal","mm-wrapper_background"].forEach((function(e){t.node.wrpr.classList.remove(e)})),C.node.page.setAttribute("style",C.node.page.mmStyle),t.vars.opened=!1,t.trigger("close:finish")}),this.conf.transitionDuration),this.trigger("close:start"),this.node.wrpr.classList.remove("mm-wrapper_opening"),this.trigger("close:after"))},C.prototype.closeAllOthers=function(){var t=this;k(document.body,".mm-menu_offcanvas").forEach((function(e){if(e!==t.node.menu){var n=e.mmApi;n&&n.close&&n.close()}}))},C.prototype.setPage=function(t){this.trigger("setPage:before",[t]);var e=this.conf.offCanvas;if(!t){var n="string"==typeof e.page.selector?k(document.body,e.page.selector):_(document.body,e.page.nodetype);if(n=n.filter((function(t){return!t.matches(".mm-menu, .mm-wrapper__blocker")})),e.page.noSelector.length&&(n=n.filter((function(t){return!t.matches(e.page.noSelector.join(", "))}))),n.length>1){var i=g("div");n[0].before(i),n.forEach((function(t){i.append(t)})),n=[i]}t=n[0]}t.classList.add("mm-page"),t.classList.add("mm-slideout"),t.id=t.id||l(),C.node.page=t,this.trigger("setPage:after",[t])};var D=function(){var t,e,n,i=this;t=document.body,n=(e="keydown.tabguard").split("."),e="mmEvent"+S(n[0])+S(n[1]),(t[e]||[]).forEach((function(e){t.removeEventListener(n[0],e)})),function(t,e,n){var i=e.split(".");t[e="mmEvent"+S(i[0])+S(i[1])]=t[e]||[],t[e].push(n),t.addEventListener(i[0],n)}(document.body,"keydown.tabguard",(function(t){9==t.keyCode&&i.node.wrpr.matches(".mm-wrapper_opened")&&t.preventDefault()}))},x=function(){var t=this;this.trigger("initBlocker:before");var e=this.opts.offCanvas,n=this.conf.offCanvas;if(e.blockUI){if(!C.node.blck){var i=g("div.mm-wrapper__blocker.mm-slideout");i.innerHTML="<a></a>",document.querySelector(n.menu.insertSelector).append(i),C.node.blck=i}var r=function(e){e.preventDefault(),e.stopPropagation(),t.node.wrpr.matches(".mm-wrapper_modal")||t.close()};C.node.blck.addEventListener("mousedown",r),C.node.blck.addEventListener("touchstart",r),C.node.blck.addEventListener("touchmove",r),this.trigger("initBlocker:after")}},B={aria:!0,text:!0};var P={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}},L={"Close menu":"بستن منو","Close submenu":"بستن زیرمنو","Open submenu":"بازکردن زیرمنو","Toggle submenu":"سوییچ زیرمنو"},M={"Close menu":"Menü schließen","Close submenu":"Untermenü schließen","Open submenu":"Untermenü öffnen","Toggle submenu":"Untermenü wechseln"},T={"Close menu":"Закрыть меню","Close submenu":"Закрыть подменю","Open submenu":"Открыть подменю","Toggle submenu":"Переключить подменю"};d({"Close menu":"Menu sluiten","Close submenu":"Submenu sluiten","Open submenu":"Submenu openen","Toggle submenu":"Submenu wisselen"},"nl"),d(L,"fa"),d(M,"de"),d(T,"ru"),C.options.screenReader=B,C.configs.screenReader=P;var O;O=function(t,e,n){t[e]=n,n?t.setAttribute(e,n.toString()):t.removeAttribute(e)},C.sr_aria=function(t,e,n){O(t,"aria-"+e,n)},C.sr_role=function(t,e){O(t,"role",e)},C.sr_text=function(t){return'<span class="mm-sronly">'+t+"</span>"};var I={fix:!0};var R="ontouchstart"in window||!!navigator.msMaxTouchPoints||!1;C.options.scrollBugFix=I;
/*!
     * mmenu.js
     * mmenujs.com
     *
     * Copyright (c) Fred Heusschen
     * frebsite.nl
     *
     * License: CC-BY-NC-4.0
     * http://creativecommons.org/licenses/by-nc/4.0/
     */C.addons={offcanvas:function(){var t=this;if(this.opts.offCanvas){var e=function(t){return"object"!=typeof t&&(t={}),t}(this.opts.offCanvas);this.opts.offCanvas=a(e,C.options.offCanvas);var n=this.conf.offCanvas;this._api.push("open","close","setPage"),this.vars.opened=!1,this.bind("initMenu:before",(function(){n.clone&&(t.node.menu=t.node.menu.cloneNode(!0),t.node.menu.id&&(t.node.menu.id="mm-"+t.node.menu.id),k(t.node.menu,"[id]").forEach((function(t){t.id="mm-"+t.id}))),t.node.wrpr=document.body,document.querySelector(n.menu.insertSelector)[n.menu.insertMethod](t.node.menu)})),this.bind("initMenu:after",(function(){x.call(t),t.setPage(C.node.page),D.call(t),t.node.menu.classList.add("mm-menu_offcanvas");var e=window.location.hash;if(e){var n=h(t.node.menu.id);n&&n==e.slice(1)&&setTimeout((function(){t.open()}),1e3)}})),this.bind("setPage:after",(function(t){C.node.blck&&_(C.node.blck,"a").forEach((function(e){e.setAttribute("href","#"+t.id)}))})),this.bind("open:start:sr-aria",(function(){C.sr_aria(t.node.menu,"hidden",!1)})),this.bind("close:finish:sr-aria",(function(){C.sr_aria(t.node.menu,"hidden",!0)})),this.bind("initMenu:after:sr-aria",(function(){C.sr_aria(t.node.menu,"hidden",!0)})),this.bind("initBlocker:after:sr-text",(function(){_(C.node.blck,"a").forEach((function(e){e.innerHTML=C.sr_text(t.i18n(t.conf.screenReader.text.closeMenu))}))})),this.clck.push((function(e,n){var i=h(t.node.menu.id);if(i&&e.matches('[href="#'+i+'"]')){if(n.inMenu)return t.open(),!0;var r=e.closest(".mm-menu");if(r){var a=r.mmApi;if(a&&a.close)return a.close(),u(r,(function(){t.open()}),t.conf.transitionDuration),!0}return t.open(),!0}if((i=C.node.page.id)&&e.matches('[href="#'+i+'"]'))return t.close(),!0}))}},screenReader:function(){var t=this,e=function(t){return"boolean"==typeof t&&(t={aria:t,text:t}),"object"!=typeof t&&(t={}),t}(this.opts.screenReader);this.opts.screenReader=a(e,C.options.screenReader);var n=this.conf.screenReader;e.aria&&(this.bind("initAddons:after",(function(){t.bind("initMenu:after",(function(){this.trigger("initMenu:after:sr-aria",[].slice.call(arguments))})),t.bind("initNavbar:after",(function(){this.trigger("initNavbar:after:sr-aria",[].slice.call(arguments))})),t.bind("openPanel:start",(function(){this.trigger("openPanel:start:sr-aria",[].slice.call(arguments))})),t.bind("close:start",(function(){this.trigger("close:start:sr-aria",[].slice.call(arguments))})),t.bind("close:finish",(function(){this.trigger("close:finish:sr-aria",[].slice.call(arguments))})),t.bind("open:start",(function(){this.trigger("open:start:sr-aria",[].slice.call(arguments))})),t.bind("initOpened:after",(function(){this.trigger("initOpened:after:sr-aria",[].slice.call(arguments))}))})),this.bind("updateListview",(function(){t.node.pnls.querySelectorAll(".mm-listitem").forEach((function(t){C.sr_aria(t,"hidden",t.matches(".mm-hidden"))}))})),this.bind("openPanel:start",(function(e){var n=k(t.node.pnls,".mm-panel").filter((function(t){return t!==e})).filter((function(t){return!t.parentElement.matches(".mm-panel")})),i=[e];k(e,".mm-listitem_vertical .mm-listitem_opened").forEach((function(t){i.push.apply(i,_(t,".mm-panel"))})),n.forEach((function(t){C.sr_aria(t,"hidden",!0)})),i.forEach((function(t){C.sr_aria(t,"hidden",!1)}))})),this.bind("closePanel",(function(t){C.sr_aria(t,"hidden",!0)})),this.bind("initPanel:after",(function(t){k(t,".mm-btn").forEach((function(t){C.sr_aria(t,"haspopup",!0);var e=t.getAttribute("href");e&&C.sr_aria(t,"owns",e.replace("#",""))}))})),this.bind("initNavbar:after",(function(t){var e=_(t,".mm-navbar")[0],n=e.matches(".mm-hidden");C.sr_aria(e,"hidden",n)})),e.text&&"parent"==this.opts.navbar.titleLink&&this.bind("initNavbar:after",(function(t){var e=_(t,".mm-navbar")[0],n=!!e.querySelector(".mm-btn_prev");C.sr_aria(k(e,".mm-navbar__title")[0],"hidden",n)}))),e.text&&(this.bind("initAddons:after",(function(){t.bind("setPage:after",(function(){this.trigger("setPage:after:sr-text",[].slice.call(arguments))})),t.bind("initBlocker:after",(function(){this.trigger("initBlocker:after:sr-text",[].slice.call(arguments))}))})),this.bind("initNavbar:after",(function(e){var i=_(e,".mm-navbar")[0];if(i){var r=_(i,".mm-btn_prev")[0];r&&(r.innerHTML=C.sr_text(t.i18n(n.text.closeSubmenu)))}})),this.bind("initListview:after",(function(e){var i=e.closest(".mm-panel").mmParent;if(i){var r=_(i,".mm-btn_next")[0];if(r){var a=t.i18n(n.text[r.parentElement.matches(".mm-listitem_vertical")?"toggleSubmenu":"openSubmenu"]);r.innerHTML+=C.sr_text(a)}}})))},scrollBugFix:function(){var t=this;if(R&&this.opts.offCanvas&&this.opts.offCanvas.blockUI){var e=function(t){return"boolean"==typeof t&&(t={fix:t}),"object"!=typeof t&&(t={}),t}(this.opts.scrollBugFix);if(this.opts.scrollBugFix=a(e,C.options.scrollBugFix),e.fix){var n,i,r=(n=this.node.menu,i="",n.addEventListener("touchmove",(function(t){i="",t.movementY>0?i="down":t.movementY<0&&(i="up")})),{get:function(){return i}});this.node.menu.addEventListener("scroll",s,{passive:!1}),this.node.menu.addEventListener("touchmove",(function(t){var e=t.target.closest(".mm-panel, .mm-iconbar__top, .mm-iconbar__bottom");e?(e.scrollHeight===e.offsetHeight||0==e.scrollTop&&"down"==r.get()||e.scrollHeight==e.scrollTop+e.offsetHeight&&"up"==r.get())&&s(t):s(t)}),{passive:!1}),this.bind("open:start",(function(){var e=_(t.node.pnls,".mm-panel_opened")[0];e&&(e.scrollTop=0)})),window.addEventListener("orientationchange",(function(e){var n=_(t.node.pnls,".mm-panel_opened")[0];n&&(n.scrollTop=0,n.style["-webkit-overflow-scrolling"]="auto",n.style["-webkit-overflow-scrolling"]="touch")}))}}function s(t){t.preventDefault(),t.stopPropagation()}}},C.wrappers={};e.default=C;window&&(window.Mmenu=C)}]);function en(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function nn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}function rn(t,e,n){if(e)nn(t.prototype,e);if(n)nn(t,n);return t}function an(t){return sn(t)||on(t)||un(t)||cn()}function sn(t){if(Array.isArray(t))return ln(t)}function on(t){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function un(t,e){if(!t)return;if(typeof t==="string")return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor)n=t.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(t,e)}function ln(t,e){if(e==null||e>t.length)e=t.length;for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function cn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var hn=function(){var t=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];var e=function(){function e(t){var n=t.targetModal,i=t.triggers,r=i===void 0?[]:i,a=t.onShow,s=a===void 0?function(){}:a,o=t.onClose,u=o===void 0?function(){}:o,l=t.openTrigger,c=l===void 0?"data-micromodal-trigger":l,h=t.closeTrigger,f=h===void 0?"data-micromodal-close":h,d=t.openClass,p=d===void 0?"is-open":d,v=t.disableScroll,m=v===void 0?false:v,g=t.disableFocus,k=g===void 0?false:g,_=t.awaitCloseAnimation,y=_===void 0?false:_,b=t.awaitOpenAnimation,E=b===void 0?false:b,A=t.debugMode,C=A===void 0?false:A;en(this,e);this.modal=document.getElementById(n);this.config={debugMode:C,disableScroll:m,openTrigger:c,closeTrigger:f,openClass:p,onShow:s,onClose:u,awaitCloseAnimation:y,awaitOpenAnimation:E,disableFocus:k};if(r.length>0)this.registerTriggers.apply(this,an(r));this.onClick=this.onClick.bind(this);this.onKeydown=this.onKeydown.bind(this)}rn(e,[{key:"registerTriggers",value:function t(){var e=this;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}i.filter(Boolean).forEach((function(t){t.addEventListener("click",(function(t){return e.showModal(t)}))}))}},{key:"showModal",value:function t(){var e=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.activeElement=document.activeElement;this.modal.setAttribute("aria-hidden","false");this.modal.classList.add(this.config.openClass);this.scrollBehaviour("disable");this.addEventListeners();if(this.config.awaitOpenAnimation){var i=function t(){e.modal.removeEventListener("animationend",t,false);e.setFocusToFirstNode()};this.modal.addEventListener("animationend",i,false)}else{this.setFocusToFirstNode()}this.config.onShow(this.modal,this.activeElement,n)}},{key:"closeModal",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var n=this.modal;this.modal.setAttribute("aria-hidden","true");this.removeEventListeners();this.scrollBehaviour("enable");if(this.activeElement&&this.activeElement.focus){this.activeElement.focus()}this.config.onClose(this.modal,this.activeElement,e);if(this.config.awaitCloseAnimation){var i=this.config.openClass;this.modal.addEventListener("animationend",(function t(){n.classList.remove(i);n.removeEventListener("animationend",t,false)}),false)}else{n.classList.remove(this.config.openClass)}}},{key:"closeModalById",value:function t(e){this.modal=document.getElementById(e);if(this.modal)this.closeModal()}},{key:"scrollBehaviour",value:function t(e){if(!this.config.disableScroll)return;var n=document.querySelector("body");switch(e){case"enable":Object.assign(n.style,{overflow:""});break;case"disable":Object.assign(n.style,{overflow:"hidden"});break}}},{key:"addEventListeners",value:function t(){this.modal.addEventListener("touchstart",this.onClick);this.modal.addEventListener("click",this.onClick);document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function t(){this.modal.removeEventListener("touchstart",this.onClick);this.modal.removeEventListener("click",this.onClick);document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function t(e){if(e.target.hasAttribute(this.config.closeTrigger)){this.closeModal(e)}}},{key:"onKeydown",value:function t(e){if(e.keyCode===27)this.closeModal(e);if(e.keyCode===9)this.retainFocus(e)}},{key:"getFocusableNodes",value:function e(){var n=this.modal.querySelectorAll(t);return Array.apply(void 0,an(n))}},{key:"setFocusToFirstNode",value:function t(){var e=this;if(this.config.disableFocus)return;var n=this.getFocusableNodes();if(n.length===0)return;var i=n.filter((function(t){return!t.hasAttribute(e.config.closeTrigger)}));if(i.length>0)i[0].focus();if(i.length===0)n[0].focus()}},{key:"retainFocus",value:function t(e){var n=this.getFocusableNodes();if(n.length===0)return;n=n.filter((function(t){return t.offsetParent!==null}));if(!this.modal.contains(document.activeElement)){n[0].focus()}else{var i=n.indexOf(document.activeElement);if(e.shiftKey&&i===0){n[n.length-1].focus();e.preventDefault()}if(!e.shiftKey&&n.length>0&&i===n.length-1){n[0].focus();e.preventDefault()}}}}]);return e}();var n=null;var i=function t(e,n){var i=[];e.forEach((function(t){var e=t.attributes[n].value;if(i[e]===undefined)i[e]=[];i[e].push(t)}));return i};var r=function t(e){if(!document.getElementById(e)){console.warn("MicroModal: ❗Seems like you have missed %c'".concat(e,"'"),"background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it.");console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'.concat(e,'"></div>'));return false}};var a=function t(e){if(e.length<=0){console.warn("MicroModal: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute.");console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>');return false}};var s=function t(e,n){a(e);if(!n)return true;for(var i in n){r(i)}return true};var o=function t(r){var a=Object.assign({},{openTrigger:"data-micromodal-trigger"},r);var o=an(document.querySelectorAll("[".concat(a.openTrigger,"]")));var u=i(o,a.openTrigger);if(a.debugMode===true&&s(o,u)===false)return;for(var l in u){var c=u[l];a.targetModal=l;a.triggers=an(c);n=new e(a)}};var u=function t(i,a){var s=a||{};s.targetModal=i;if(s.debugMode===true&&r(i)===false)return;if(n)n.removeEventListeners();n=new e(s);n.showModal()};var l=function t(e){e?n.closeModalById(e):n.closeModal()};return{init:o,show:u,close:l}}();window.MicroModal=hn;const fn=()=>{hn.init({onShow:t=>document.dispatchEvent(new CustomEvent("modal-opens",{detail:{modal:t}})),disableScroll:true,awaitCloseAnimation:true});const t=document.querySelectorAll("[data-micromodal-trigger]");t===null||t===void 0?void 0:t.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault()})})};const dn=()=>{const t=document.querySelectorAll(".accordion__button");t===null||t===void 0?void 0:t.forEach(t=>t.addEventListener("click",t=>{var e;return t.target.classList.toggle("active"),(e=t.target)===null||e===void 0?void 0:e.closest(".accordion-title").nextElementSibling.classList.toggle("active")}))};const pn=()=>{const t=document.querySelector("#mobile-menu");if(t){var e;const n=new Mmenu("#mobile-menu",{extensions:["position-right","pagedim-black"],navbar:{title:"АФР"}});const i=n.API;(e=t.querySelectorAll("[data-micromodal-trigger]"))===null||e===void 0?void 0:e.forEach(t=>{t.addEventListener("click",()=>{i.close({panel:n})})})}};const vn=()=>{if(document.querySelector("[data-tabs]")){new Tabby("[data-tabs]");document.addEventListener("tabby",(function(t){const e=t.target;const n=t.detail.previousTab;e.classList.remove("opacity-25");n.classList.add("opacity-25");if(e.getAttribute("data-title")){e.closest(".content-header").querySelector("h1").textContent=e.getAttribute("data-title")}}),false)}};const mn=()=>{const t=document.querySelectorAll(".hierarchy-menu");t===null||t===void 0?void 0:t.forEach(t=>{var e;(e=t.querySelectorAll("a"))===null||e===void 0?void 0:e.forEach(t=>{if(t.closest("li").querySelector("ul")){t.classList.add("with-nested-items");t.addEventListener("click",t=>{t.target.classList.toggle("opened")})}})})};const gn=()=>{const t=document.querySelectorAll("[data-copy-btn]");t===null||t===void 0?void 0:t.forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-copy-text")!==null?t.textContent:t.querySelector("[data-copy-text]").textContent;navigator.clipboard.writeText("<empty clipboard>").then((function(){navigator.clipboard.writeText(e)}),(function(){throw new Error(`Can't access clipboard`)}))})})};document.addEventListener("DOMContentLoaded",()=>{tn();fn();dn();vn();pn();mn();gn()})}));
//# sourceMappingURL=core.js.map
